"use strict";function initMap(){new google.maps.Map(document.getElementById("map"),{center:{lat:0,lng:0},zoom:3,styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{visibility:"off"}]}],disableDoubleClickZoom:!0})}var app=angular.module("googApp",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/",templateUrl:"/html/home.html",controller:"homeCtrl"}).state("login",{url:"/login",templateUrl:"/html/login.html",controller:"loginCtrl"}),t.otherwise("/")}]),app.run(["AuthService",function(e){e.init()}]);var app=angular.module("googApp");app.controller("homeCtrl",["$scope","UserService",function(e,t){}]);var app=angular.module("googApp");app.controller("loginCtrl",["$scope","$state","AuthService",function(e,t,o){e.login=function(e){o.login(e).then(function(e){t.go("home")},function(e){console.error("err: ",e)})},e.register=function(e){o.register(e).then(function(e){t.go("home")},function(e){console.error("err: ",e)})}}]);var app=angular.module("googApp");app.controller("navCtrl",["$scope","UserService","AuthService","NavService",function(e,t,o,n){e.$watch(function(){return t.username},function(t){e.username=t}),e.logout=function(){o.logout()},e.getCoords=function(){n.getCoords(e.location.address)}}]);var app=angular.module("googApp");app.service("AuthService",["$http","$state","UserService",function(e,t,o){this.logout=function(){e["delete"]("/users/authenticate").then(function(e){o.destroy(),t.go("home")})},this.register=function(t){return e.post("/users/register",t).then(function(e){return o.set(e.data),e.data},function(e){return console.error(e)})},this.login=function(t){return e.post("/users/authenticate",t).then(function(e){return o.set(e.data),e.data},function(e){return console.error(e)})},this.init=function(){e.get("/users/profile").then(function(e){return o.set(e.data)})}}]);var app=angular.module("googApp");app.service("UserService",function(){this.set=function(e){this.username=e.username,this._id=e._id},this.destroy=function(){this.username=null,this._id=null}});var app=angular.module("googApp");app.service("NavService",["$http",function(e){this.getCoords=function(t){function o(){var e=new google.maps.Map(document.getElementById("map"),{zoom:8,center:{lat:-34.397,lng:150.644}}),t=new google.maps.Geocoder;n(t,e)}function n(o,n){o.geocode({address:t},function(t,o){if(o===google.maps.GeocoderStatus.OK){n.setCenter(t[0].geometry.location);var r={address:t[0].formatted_address};return e.post("/users/locations",r).then(function(e){new google.maps.Marker({map:n,position:t[0].geometry.location});return e.data},function(e){console.error("err: ",e)})}alert("Geocode was not successful for the following reason: "+o)})}o()}}]);
//# sourceMappingURL=bundle.js.map
