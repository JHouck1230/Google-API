"use strict";function initMap(){new google.maps.Map(document.getElementById("map"),{center:{lat:0,lng:0},zoom:3,styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{visibility:"off"}]}],disableDoubleClickZoom:!0})}var app=angular.module("googApp",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,o){e.state("home",{url:"/",templateUrl:"/html/home.html",controller:"homeCtrl"}).state("login",{url:"/login",templateUrl:"/html/login.html",controller:"loginCtrl"}),o.otherwise("/")}]),app.run(["AuthService",function(e){e.init()}]);var app=angular.module("googApp");app.controller("homeCtrl",["$scope","UserService",function(e,o){}]);var app=angular.module("googApp");app.controller("loginCtrl",["$scope","$state","AuthService",function(e,o,t){e.login=function(e){t.login(e).then(function(e){o.go("home")},function(e){console.error("err: ",e)})},e.register=function(e){t.register(e).then(function(e){o.go("home")},function(e){console.error("err: ",e)})}}]);var app=angular.module("googApp");app.controller("navCtrl",["$scope","UserService","AuthService","NavService",function(e,o,t,n){e.$watch(function(){return o.username},function(o){e.username=o}),e.logout=function(){t.logout()},e.getCoords=function(){n.getCoords(e.location.address)}}]);var app=angular.module("googApp");app.service("AuthService",["$http","$state","UserService",function(e,o,t){this.logout=function(){e["delete"]("/users/authenticate").then(function(e){t.destroy(),o.go("home")})},this.register=function(o){return e.post("/users/register",o).then(function(e){return t.set(e.data),e.data},function(e){return console.error(e)})},this.login=function(o){return e.post("/users/authenticate",o).then(function(e){return t.set(e.data),e.data},function(e){return console.error(e)})},this.init=function(){e.get("/users/profile").then(function(e){return t.set(e.data)})}}]);var app=angular.module("googApp");app.service("UserService",function(){this.set=function(e){this.username=e.username,this._id=e._id},this.destroy=function(){this.username=null,this._id=null}});var app=angular.module("googApp");app.service("NavService",function(){this.getCoords=function(e){function o(){var e=new google.maps.Map(document.getElementById("map"),{zoom:8,center:{lat:-34.397,lng:150.644}}),o=new google.maps.Geocoder;t(o,e)}function t(o,t){o.geocode({address:e},function(e,o){if(o===google.maps.GeocoderStatus.OK){t.setCenter(e[0].geometry.location);new google.maps.Marker({map:t,position:e[0].geometry.location})}else alert("Geocode was not successful for the following reason: "+o)})}o()}});
//# sourceMappingURL=bundle.js.map
